<div class="col1">
    <div class="name">
        <img class="name" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/name.png"><br />
        <input type="text" name="attr_character" class="character-name" />
    </div>
    <div class="attitude">
        <img class="attitude" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/attitude.png"><br />
        <input type="text" name="attr_attitude" class="attitude" />
    </div><br />
    <div class="class-select">
        <span class="archetype">
            <select name="attr_archetype" class="archetype">
                <option value="blank">{Archetype}</option>
                <option value="augmented">The Augmented</option>
                <option value="civilian">The Civilian</option>
                <option value="leader">The Leader</option>
                <option value="muscle">The Muscle</option>
                <option value="scientist">The Scientist</option>
                <option value="specialist">The Specialist</option>
                <option value="stowaway">The Stowaway</option>
                <option value="technician">The Technician</option>
            </select>
        </span>

        <!-- Used for class switching -->
        <input type="hidden" name="attr_archetype" class="archetype-switch" />

        <span class="variant augmented">
            <select name="attr_variant" class="variant">
                <option value="blank">{Variant}</option>
                <option value="augmentedBase">Base</option>
                <option value="almostHuman">The Almost-Human</option>
                <option value="construct">The Construct</option>
                <option value="cyborg">The Cyborg</option>
            </select>
            <br />
            <select name="attr_skill_points" class="skill-points">
                <option value="blank">Skill Points</option>
                <option value="augmented1">Head: +0 Hand: +2 Heart: +0 Group: +1 Tech: +1</option>
                <option value="augmented2">Head: +2 Hand: +1 Heart: +0 Group: -2 Tech: +1</option>
                <option value="augmented3">Head: +1 Hand: +2 Heart: -1 Group: +0 Tech: -1</option>
                <option value="augmented4">Head: -1 Hand: +2 Heart: -2 Group: +2 Tech: +0</option>
                <option value="augmented5">Head: +1 Hand: +1 Heart: +0 Group: +1 Tech: +0</option>
            </select>
        </span>
        <span class="variant civilian">
            <select name="attr_variant" class="variant">
                <option value="blank">{Variant}</option>
                <option value="civilianBase">Base</option>
                <option value="entertainer">The Entertainer</option>
                <option value="homesteader">The Homesteader</option>
                <option value="merchant">The Merchant</option>
            </select>
            <br />
            <select name="attr_skill_points" class="skill-points">
                <option value="blank">Skill Points</option>
                <option value="civilian1">Head: +1 Hand: +0 Heart: +2 Group: +0 Tech: -1</option>
                <option value="civilian2">Head: +0 Hand: +1 Heart: +2 Group: +0 Tech: -1</option>
                <option value="civilian3">Head: +0 Hand: +0 Heart: +2 Group: +1 Tech: +1</option>
                <option value="civilian4">Head: -1 Hand: -1 Heart: +1 Group: +2 Tech: +0</option>
                <option value="civilian5">Head: +1 Hand: -2 Heart: +0 Group: +2 Tech: +1</option>
            </select>
        </span>
        <span class="variant leader">
            <select name="attr_variant" class="variant">
                <option value="blank">{Variant}</option>
                <option value="leaderBase">Base</option>
                <option value="commander">The Commander</option>
                <option value="diplomat">The Diplomat</option>
                <option value="shepherd">The Shepherd</option>
            </select>
            <br />
            <select name="attr_skill_points" class="skill-points">
                <option value="blank">Skill Points</option>
                <option value="leader1">Head: +2 Hand: +0 Heart: +0 Group: +1 Tech: +1</option>
                <option value="leader2">Head: +2 Hand: +0 Heart: +1 Group: +0 Tech: +1</option>
                <option value="leader3">Head: -2 Hand: +2 Heart: -1 Group: +2 Tech: +0</option>
                <option value="leader4">Head: +1 Hand: +0 Heart: +2 Group: +2 Tech: -1</option>
                <option value="leader5">Head: -1 Hand: +2 Heart: +2 Group: -1 Tech: +0</option>
            </select>
        </span>
        <span class="variant muscle">
            <select name="attr_variant" class="variant">
                <option value="blank">{Variant}</option>
                <option value="muscleBase">Base</option>
                <option value="exMarine">The Ex-Marine</option>
                <option value="miner">The Miner</option>
                <option value="security">The Security</option>
            </select>
            <br />
            <select name="attr_skill_points" class="skill-points">
                <option value="blank">Skill Points</option>
                <option value="muscle1">Head: +0 Hand: +2 Heart: +2 Group: -2 Tech: +0</option>
                <option value="muscle2">Head: +1 Hand: +2 Heart: +0 Group: +0 Tech: -1</option>
                <option value="muscle3">Head: +2 Hand: +1 Heart: +0 Group: -1 Tech: -1</option>
                <option value="muscle4">Head: -1 Hand: +2 Heart: +2 Group: +1 Tech: -2</option>
                <option value="muscle5">Head: +2 Hand: +0 Heart: -1 Group: +2 Tech: +0</option>
            </select>
        </span>
        <span class="variant scientist">
            <select name="attr_variant" class="variant">
                <option value="blank">{Variant}</option>
                <option value="scientistBase">Base</option>
                <option value="biologist">The Biologist</option>
                <option value="chemist">The Chemist</option>
                <option value="medic">The Medic</option>
            </select>
            <br />
            <select name="attr_skill_points" class="skill-points">
                <option value="blank">Skill Points</option>
                <option value="scientist1">Head: +2 Hand: -2 Heart: -1 Group: +1 Tech: +1</option>
                <option value="scientist2">Head: +2 Hand: +0 Heart: -1 Group: +1 Tech: +2</option>
                <option value="scientist3">Head: +1 Hand: +1 Heart: +0 Group: -1 Tech: +1</option>
                <option value="scientist4">Head: +0 Hand: -1 Heart: +2 Group: -1 Tech: +2</option>
                <option value="scientist5">Head: -1 Hand: +1 Heart: +2 Group: -1 Tech: +2</option>
            </select>
        </span>
        <span class="variant specialist">
            <select name="attr_variant" class="variant">
                <option value="blank">{Variant}</option>
                <option value="specialistBase">Base</option>
                <option value="academic">The Academic</option>
                <option value="pilot">The Pilot</option>
                <option value="weaponsExpert">The Weapons Expert</option>
            </select>
            <br />
            <select name="attr_skill_points" class="skill-points">
                <option value="blank">Skill Points</option>
                <option value="specialist1">Head: +2 Hand: +0 Heart: -1 Group: -1 Tech: +2</option>
                <option value="specialist2">Head: +1 Hand: -1 Heart: +0 Group: +0 Tech: +2</option>
                <option value="specialist3">Head: +2 Hand: +1 Heart: +0 Group: -2 Tech: +0</option>
                <option value="specialist4">Head: +0 Hand: +2 Heart: -2 Group: +0 Tech: +2</option>
                <option value="specialist5">Head: -2 Hand: +2 Heart: +1 Group: +1 Tech: +0</option>
            </select>
        </span>
        <span class="variant stowaway">
            <select name="attr_variant" class="variant">
                <option value="blank">{Variant}</option>
                <option value="stowawayBase">Base</option>
                <option value="criminal">The Criminal</option>
                <option value="kid">The Kid</option>
                <option value="survivor">The Survivor</option>
            </select>
            <br />
            <select name="attr_skill_points" class="skill-points">
                <option value="blank">Skill Points</option>
                <option value="stowaway1">Head: +2 Hand: +0 Heart: +1 Group: +0 Tech: -1</option>
                <option value="stowaway2">Head: +0 Hand: +2 Heart: +1 Group: -1 Tech: -1</option>
                <option value="stowaway3">Head: -1 Hand: +1 Heart: +2 Group: +0 Tech: -1</option>
                <option value="stowaway4">Head: +2 Hand: +0 Heart: +2 Group: -1 Tech: -2</option>
                <option value="stowaway5">Head: +0 Hand: +2 Heart: -1 Group: -2 Tech: +2</option>
            </select>
        </span>
        <span class="variant technician">
            <select name="attr_variant" class="variant">
                <option value="blank">{Variant}</option>
                <option value="technicianBase">Base</option>
                <option value="engineer">The Engineer</option>
                <option value="hacker">The Hacker</option>
                <option value="mechanic">The Mechanic</option>
            </select>
            <br />
            <select name="attr_skill_points" class="skill-points">
                <option value="blank">Skill Points</option>
                <option value="technician1">Head: +2 Hand: +0 Heart: -1 Group: +0 Tech: +2</option>
                <option value="technician2">Head: +1 Hand: -1 Heart: +0 Group: +0 Tech: +2</option>
                <option value="technician3">Head: +3 Hand: -1 Heart: -1 Group: +0 Tech: +1</option>
                <option value="technician4">Head: +1 Hand: +1 Heart: +1 Group: +0 Tech: +0</option>
                <option value="technician5">Head: -2 Hand: +1 Heart: +1 Group: +0 Tech: +1</option>
            </select>
        </span>
    </div>
    <div class="appearance">
        <img class="appearance" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/appearance.png"><br />
        <textarea name="attr_appearance" class="attr-appearance"></textarea>
    </div>
    <div class="space">
        <img class="space" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/space.png"><br />
        <textarea name="attr_space" class="attr-space"></textarea>
    </div>
    <div class="notes">
        <img class="notes" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/notes.png"><br />
        <textarea name="attr_notes" class="attr-notes"></textarea>
    </div>
</div>
<div class='col2'>
    <div class="stats">
        <img class="statblock" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/stats.png">
        <span class="stats-text head-text">Planning<br />Intelligence</span>
        <input type="text" name="attr_head" class="stats head" />
        <span class="stats-text hand-text">Strength<br />Combat</span>
        <input type="text" name="attr_hand" class="stats hand" />
        <span class="stats-text heart-text">Empathy<br />Stability</span>
        <input type="text" name="attr_heart" class="stats heart" />
        <span class="stats-text group-text">Negotiation<br />Networking</span>
        <input type="text" name="attr_group" class="stats group" />
        <span class="stats-text tech-text">Abilities<br />Use Items</span>
        <input type="text" name="attr_tech" class="stats tech" />
    </div>
    <br />
    <div class="intuition">
        <img src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/intuition.png"><br />
        <p class="intuition-description">Remove an Intuition to change a roll to an Incredible Success
            or to avoid all harm in one event.</p>
        <div class="intuition-tracker">
            <span class="good">GOOD</span>
            <button type="action" name="act_intuition_1" class="status-tracker"></button>
            <button type="action" name="act_intuition_2" class="status-tracker"></button>
            <button type="action" name="act_intuition_3" class="status-tracker"></button>
            <button type="action" name="act_intuition_4" class="status-tracker"></button>
            <button type="action" name="act_intuition_5" class="status-tracker"></button>
            <button type="action" name="act_intuition_6" class="status-tracker"></button>
            <button type="action" name="act_intuition_7" class="status-tracker"></button>
            <input type="checkbox" name="attr_intuition1" class="status-tracker intuition-display" />
            <input type="checkbox" name="attr_intuition2" class="status-tracker intuition-display" />
            <input type="checkbox" name="attr_intuition3" class="status-tracker intuition-display" />
            <input type="checkbox" name="attr_intuition4" class="status-tracker intuition-display" />
            <input type="checkbox" name="attr_intuition5" class="status-tracker intuition-display" />
            <input type="checkbox" name="attr_intuition6" class="status-tracker intuition-display" />
            <input type="checkbox" name="attr_intuition7" class="status-tracker intuition-display" />
            <span class="tracker-end-text done-for">DONE FOR</span>
        </div>
    </div>
    <div class="harm-stress">
        <img src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/harmstress.png"><br />
        <p class="harm-description">Mark a harm when you're injured. At 5 harm you are unstable.</p>
        <div class="harm-tracker">
            <span class="healthy">HEALTHY</span>
            <button type="action" name="act_harm_1" class="status-tracker"></button>
            <button type="action" name="act_harm_2" class="status-tracker"></button>
            <button type="action" name="act_harm_3" class="status-tracker"></button>
            <button type="action" name="act_harm_4" class="status-tracker"></button>
            <button type="action" name="act_harm_5" class="status-tracker"></button>
            <button type="action" name="act_harm_6" class="status-tracker"></button>
            <button type="action" name="act_harm_7" class="status-tracker"></button>
            <input type="checkbox" name="attr_harm1" class="status-tracker harm-display" />
            <input type="checkbox" name="attr_harm2" class="status-tracker harm-display" />
            <input type="checkbox" name="attr_harm3" class="status-tracker harm-display" />
            <input type="checkbox" name="attr_harm4" class="status-tracker harm-display" />
            <input type="checkbox" name="attr_harm5" class="status-tracker harm-display" />
            <input type="checkbox" name="attr_harm6" class="status-tracker harm-display" />
            <input type="checkbox" name="attr_harm7" class="status-tracker harm-display" />
            <span class="tracker-end-text dying">DYING</span>
        </div>
        <br />
        <p class="stress-description">Mark a stress when directed. Erase a mark after downtime.
            After the 5th stress mark, you are panicked.</p>
        <div class="stress-tracker">
            <span class="alright">ALRIGHT</span>
            <button type="action" name="act_stress_1" class="status-tracker"></button>
            <button type="action" name="act_stress_2" class="status-tracker"></button>
            <button type="action" name="act_stress_3" class="status-tracker"></button>
            <button type="action" name="act_stress_4" class="status-tracker"></button>
            <button type="action" name="act_stress_5" class="status-tracker"></button>
            <input type="checkbox" name="attr_stress1" class="status-tracker stress-display" />
            <input type="checkbox" name="attr_stress2" class="status-tracker stress-display" />
            <input type="checkbox" name="attr_stress3" class="status-tracker stress-display" />
            <input type="checkbox" name="attr_stress4" class="status-tracker stress-display" />
            <input type="checkbox" name="attr_stress5" class="status-tracker stress-display" />
            <span class="tracker-end-text exhausted">EXHAUSTED</span>
        </div>
    </div>
    <div class="scars">
        <img class="scars" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/scars.png"><br />
        <textarea name="attr_scars" class="attr-scars"></textarea>
    </div><br />
    <div class="moves">
        <img class="moves" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/moves.png"><br />
        <input type="hidden" name="attr_variant" class="moveset-switch" />
        <div class="xp">
            <img class="xp" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/xp.png">
            <div class="xp-buttons">
                <button type="action" name="act_xp_1" class="xp-tracker"></button>
                <button type="action" name="act_xp_2" class="xp-tracker"></button>
                <button type="action" name="act_xp_3" class="xp-tracker"></button>
                <button type="action" name="act_xp_4" class="xp-tracker"></button>
                <button type="action" name="act_xp_5" class="xp-tracker"></button>
            </div>
            <div class="xp-display">
                <input type="checkbox" name="attr_xp1" class="xp-tracker xp-display" />
                <input type="checkbox" name="attr_xp2" class="xp-tracker xp-display" />
                <input type="checkbox" name="attr_xp3" class="xp-tracker xp-display" />
                <input type="checkbox" name="attr_xp4" class="xp-tracker xp-display" />
                <input type="checkbox" name="attr_xp5" class="xp-tracker xp-display" />
            </div>
            <div class="level">
                <img class="level" src="https://raw.githubusercontent.com/PixelOrange/roll20-character-sheets/master/Starhold/Images/level.png"><br />
                <span class="level" name="attr_level"></span>
            </div>
        </div>
        <div class="moveset">
            <button class="move-title" type="roll" value="/roll 1d20+@{move1button}"><span class="move-title move-title-1" name="attr_move_title_1"></span></button>
            <span class="move1" name="attr_move1"></span><br />
            <span class="move2" name="attr_move2"></span><br />
            <span class="move3" name="attr_move3"></span><br />
            <span class="move4" name="attr_move4"></span><br />
        </div>
        <!--
        <div class="moveset augmented-moveset">
            <input type="hidden" name="attr_move_limit" class="move-limit" />
            <span class="pick-move-text"><i>Pick two:</i></span><br />
            <input type="checkbox" name="attr_move1" class="move move1" />
            <span class="move"><b>With Your Special Eyes:</b> They definitely had your brand when you upgraded your visual input. With your augmented eyes, you can <i>see in near total darkness</i>, and get a +1 when <i>surveying a scene</i> in bad lighting.</span>
            <br /><br />
            <input type="checkbox" name="attr_move2" class="move move2" />
            <span class="move"><b>Volume Control:</b> People talk, and you listen. You can control your hearing to <i>hear very quiet sounds</i> or to <i>filter out very loud ones</i> within 100 feet.</span>
            <br /><br />
            <input type="checkbox" name="attr_move3" class="move move3" />
            <span class="move"><b>Zoom Zoom:</b> You paid for the latest light-weight skeletal upgrades because you just gotta go fast. You can <i>move very quickly</i> and get a +1 to <i>Act Under Fire when dodging enemy attacks</i>.</span>
            <br /><br />
            <input type="checkbox" name="attr_move4" class="move move4" />
            <span class="move"><b>Fursona:</b> The latest augmentation techniques enhance your skin to withstand dangerous temperatures. If you pick <b>fur</b>, you are <i>impervious to cold down to -30°F</i>. If you pick <b>scales</b>, you are <i>impervious to heat up to 120°F</i>. Facial reconstruction to match augment choice included.</span>
        </div>
        <div class="moveset almost-human-moveset">
            <span class="move"><b>Looking for Me?:</b> Sometimes the best way to get by is to blend in, and you have the uncanny ability to do it at will. Whenever <i>you need to hide in plain sight</i>, roll +tech. On a 10+, you disappear to all senses and sensors until you move. On a 7-9, you're mostly hidden. On a miss, you <i>think</i> you're hidden, but you're not.</span>
            <br /><br />
            <span class="move"><b>Mind Trick:</b> You can't explain it, but sometimes you can sense what people are thinking. Roll +head instead of +heart whenever you <i>try to Get a Feeling</i> from someone.</span>
        </div>
        <div class="moveset construct-moveset">
            <span class="move"><b>Live Long and Kick Ass:</b> You were made to survive. You take <i>+2 base armor</i> from the materials your body is constructed with, and <i>anyone meleeing you takes 1-harm</i>. This does not stack with other armor.</span>
            <br /><br />
            <span class="move"><b>Unnatural:</b> Humans can heal on their own, but you've got nanites for that. You are <i>impervious to disease</i>, and <i>once per crisis you can instantly heal yourself for up to 3-harm</i>.</span>
        </div>
        <div class="moveset cyborg-moveset">
            <span class="move"><b>Two by Two:</b> What's better than two hands? Four hands! Melding the human body with machine, you gave yourself an extra pair of arms to help in your daily tasks. You have <i>+1 extra gear (non-armor) and cannot be restrained.</i></span>
            <br /><br />
            <span class="move"><b>Resistance is Futile:</b> You're the one everyone calls on moving day. Your machine-like strength is due to, well, machine-like muscles. You are <i>able to lift and move objects up to 500lbs</i>. You can do 2-harm when <i>meleeing someone barehanded</i>.</span>
        </div>
        <div class="moveset civilian-moveset">
            <input type="hidden" name="attr_move_limit" class="move-limit" />
            <span class="pick-move-text"><i>Pick two:</i></span><br />
            <input type="checkbox" name="attr_move1" class="move move1" />
            <span class="move"><b>Bigger on the Inside:</b> The universe is constantly surprising you, and that's what you love about it. When you <i>find yourself in a new or surprising place</i>, roll +heart. On a 10+, the Speaker will tell you two important facts about it. On a 7-9, they tell you one.</span>
            <br /><br />
            <input type="checkbox" name="attr_move2" class="move move2" />
            <span class="move"><b>Run!:</b> Sometimes the best solution to a problem is to run away. When <i>fleeing a dangerous situation</i>, roll +heart instead of +hand to <i>act under fire.</i></span>
            <br /><br />
            <input type="checkbox" name="attr_move3" class="move move3" />
            <span class="move"><b>I Trust You:</b> When you are about to <i>do something incredibly dangerous</i>, ask the person you have the highest Cx with what you should do. If you follow their advice take a +1 forward.</span>
            <br /><br />
            <input type="checkbox" name="attr_move4" class="move move4" />
            <span class="move"><b>Back Off!:</b> You might not be much of a fighter, but you do what you need to to protect your friends. Roll +group instead of +hand when <i>Inflicting Harm after a nearby companion becomes unstable.</i></span>
        </div>
        <div class="moveset entertainer-moveset">
            <span class="move"><b>Killing Them Softly:</b> You usually try to talk yourself out of a bad situation, but sometimes it doesn't work. Roll +heart instead of +hand when trying to <i>Inflict Harm on someone that you failed to Influence.</i></span>
            <br /><br />
            <span class="move"><b>Oh, I'm Good:</b> It's always a confidence boost to see your hard work pay off. Take a +1 forward on your next +group roll when you <i>successfully Influence Someone.</i></span>
        </div>
        <div class="moveset homesteader-moveset">
            <span class="move"><b>Resilience:</b> You're a long way from home, but you've got ways to make things work. When you <i>fail a roll affected by resource scarcity</i>, you can roll +group. On a 10+, you find a way to avoid complete disaster. On a 7-9 things aren't as bad as they initially appeared. On a miss, take a stress.</span>
            <br /><br />
            <span class="move"><b>Country Comfort:</b> Life is harsh, and you've learned to cope. <i>When you are exhausted</i>, roll +heart. On a 10+ you avoid exhaustion and reduce your stress by one. On a 7-9 you put off exhaustion for a little while, but it makes things worse when it happens. On a miss, you're exhausted twice as long.</span>
        </div>
        <div class="moveset merchant-moveset">
            <span class="move"><b>Waddaya Buyin'?:</b> People have needs, and you have the answer. If <i>somebody needs something unusual</i>, roll +group. On a 10+ you have what they need in stock and can sell it at a reasonable price. On a 7-9, you don't have it but you know where to get it, and it's going to be costly.</span>
            <br /><br />
            <span class="move"><b>Underground Market:</b> Money's not the only thing you trade in. When you are in <i>desperate need of information or an item</i>, roll +group. On a 10+ you call in a favor to find what you need immediately. On a 7-9, you'll find it but you'll owe someone big time. On a miss, you've called in one-too-many favors and your contact is pissed about it.</span>
        </div>
        <div class="moveset leader-moveset">
            <input type="hidden" name="attr_move_limit" class="move-limit" />
            <span class="pick-move-text"><i>Pick two:</i></span><br />
            <input type="checkbox" name="attr_move1" class="move move1" />
            <span class="move"><b>Respected:</b> When you <i>try to gain someone's</i> trust, roll +group to have someone vouch for you. On a 10+ the target believes you unconditionally. On a miss, they refuse to work with you.</span>
            <br /><br />
            <input type="checkbox" name="attr_move2" class="move move2" />
            <span class="move"><b>Moving Speech:</b> Sometimes people just need to be reassured. When <i>someone is exhausted</i>, roll +heart to cheer them. On a 10+ they will stop being exhausted. On a mixed success, the consequences will be less severe. On a miss, you make it even worse.</span>
            <br /><br />
            <input type="checkbox" name="attr_move3" class="move move3" />
            <span class="move"><b>Take Me Instead:</b> Sometimes being a good leader means taking the hit for your team. When you try to <i>protect someone</i> you can roll +head instead of +heart.</span>
            <br /><br />
            <input type="checkbox" name="attr_move4" class="move move4" />
            <span class="move"><b>Figurehead:</b> When you <i>give a group a dangerous command</i>, roll +group to see if they follow. On a 10+, they do it without question. On 7-9, they'll do it but only if you take the risk with them. On a miss, they revolt.</span>
        </div>
        <div class="moveset commander-moveset">
            <span class="move"><b>I Should Go:</b> Sometimes even the best made plans can fail. Whenever you take part in a <i>tactical retreat</i>, you can command some of your crew to cover you. Roll +group. On a 10+ your crew successfully covers your exit before falling back to safety. On a 7-9, you get away at a cost. On a miss, the crew take 2 harm and your retreat is exposed.</span>
            <br /><br />
            <span class="move"><b>Hold the Line:</b> You're the only thing standing between your crew and the enemy, but they won't get past you. During a combat encounter, roll +heart. On a full success you get a +1 ongoing to your +hand rolls until the end of the fight. On a mixed success, you get a +1 forward to your next +hand roll. On a miss, you lose your nerve and things go terribly wrong.</span>
        </div>
        <div class="moveset diplomat-moveset">
            <span class="move"><b>Diplomatic Immunity:</b> People think you're an easy target, but they're wrong. When <i>someone tries to harm you</i>, roll +group to see if your bodyguard will save you. On a 10+, your bodyguard knocks you out of the way safely. On a miss, both you and your bodyguard have to deal with the consequences.</span>
            <br /><br />
            <span class="move"><b>Skilled Negotiator:</b> Not everything is answered by a fight. When you try to <i>negotiate a peaceful solution with a sapient hostile force</i>, roll +head. On a 10+ they'll halt their attack...for now. On a 7-9, they'll need proof of your intentions before they'll stand down. On a miss, things turn out worse than if you hadn't tried to negotiate at all.</span>
        </div>
        <div class="moveset shepherd-moveset">
            <span class="move"><b>Blessed:</b> You always tell your flock that if they believe, then it will be provided. When <i>making a roll affected by scarcity</i>, you take a +1 forward if you are at full Faith.</span>
            <br /><br />
            <span class="move"><b>Maker's Will:</b> Your faith carries you through difficult times. Once per Crisis when you fail a roll you can use your Faith like an Intuition point. Your roll will become a success, but you will lose all your Faith until the next Crisis.</span>
        </div>
        <div class="moveset muscle-moveset">
            <input type="hidden" name="attr_move_limit" class="move-limit" />
            <span class="pick-move-text"><i>Pick two:</i></span><br />
            <input type="checkbox" name="attr_move1" class="move move1" />
            <span class="move"><b>The Ol' One Two:</b> You've been around the block once or twice, or maybe you just lifted it. Either way, whenever <i>you do 3+ harm to something in one hit</i>, you can follow up with a bonus attack. Do an additional 1-harm if they're within melee range.</span>
            <br /><br />
            <input type="checkbox" name="attr_move2" class="move move2" />
            <span class="move"><b>Come at Me, Bro:</b> Roll +hand when you <i>want to draw aggro in a fight</i>. On a 10+ all eyes (and target sights) are on you. On 7-9, you need to convince them you're a threat. On a miss, things go very badly for you and your allies.</span>
            <br /><br />
            <input type="checkbox" name="attr_move3" class="move move3" />
            <span class="move"><b>What, Like It's Hard?</b> Once per Crisis, you can solve a minor puzzle, problem, or overcome an obstacle in a moment of genius, whether it makes sense or not.</span>
            <br /><br />
            <input type="checkbox" name="attr_move4" class="move move4" />
            <span class="move"><b>Unflinching:</b> Whenever you would <i>take a stress</i>, you can choose to take a harm instead.</span>
        </div>
        <div class="moveset ex-marine-moveset">
            <span class="move"><b>Have Fun, That's an Order:</b> Once per fight, if you cause 5 or more harm in a single fight, mark off a stress. If you have no stress, add a temporary +1 ongoing to your +heart stat until you take a stress (max +heart +3).</span>
            <br /><br />
            <span class="move"><b>The Nod:</b> Sometimes violence is necessary, but you're not sure when. Ask your "boss" (see your special) if they think a <i>difficult or dangerous situation</i> warrants extreme violence or not. If you do what they suggest, take a +1 on your next roll going forward. If you go against their suggestion, take a +1 to your next +hand roll, but your Cx with that person goes down by -1 until they forgive you.</span>
        </div>
        <div class="moveset miner-moveset">
            <span class="move"><b><i>Kowlting Gut, Bosmang</i>:</b> You've got a sharp eye, and a nose for dangerous situations. When <i>someone else roles to survey the scene</i>, roll +hand to help them out. On a 10+ they get a +2 bonus to their roll. On a 7-9, they get a +1.</span>
            <br /><br />
            <span class="move"><b>Birds of a Feather:</b> Miners stick up for miners, because no one else will. When you <i>encounter a hostile human force</i>, roll +group. On a 10+, someone in the hostile force is a former coworker, and they switch sides to assist you (you gain a permanent ally). On a mixed success, they don't know you personally but have heard of you (you gain a temporary ally). On a miss, you two have some bad blood and they want revenge.</span>
        </div>
        <div class="moveset security-moveset">
            <span class="move"><b>Shame:</b> You gotta admit, sometimes there are moments when you get to be a real badass. Too bad you can never think of any good one-liners when it happens. When you <i>roll a 10+ hand roll</i>, add 1-harm to your damage while saying a witty/ corny/terribly punny one-liner, and take pride in making the rest of your team groan.</span>
            <br /><br />
            <span class="move"><b>Patrol:</b> You spend a lot of your time patrolling, and it's given you a good idea of the best places to plan from in any given space. Take a +1 bonus to <i>Survey the Scene</i> when you're familiar with the current area.</span>
        </div>
        <div class="moveset scientist-moveset">
            <input type="hidden" name="attr_move_limit" class="move-limit" />
            <span class="move-default"><i>Pick two:</i></span><br />
            <input type="checkbox" name="attr_move1" class="move move1" />
            <span class="move"><b>Am I Vibrating?</b> You thrive on coffee substitutes, stimpacks, and anxiety. Take a +1 to any +head rolls when you <i>have 3 or more Stress</i>.</span>
            <br /><br />
            <input type="checkbox" name="attr_move2" class="move move2" />
            <span class="move"><b>Breakthrough:</b> When you're <i>stuck on a problem you can't solve</i>, roll +head. On a 10+ the Speaker must answer one question to help you. On a mixed success, they give you a hint. On a miss, your problems get worse.</span>
            <br /><br />
            <input type="checkbox" name="attr_move3" class="move move3" />
            <span class="move"><b>It's Around Here Somewhere:</b> Your lab is like a rat's nest, if rats were scientists. When you <i>know you don't have a needed item</i>, roll +tech. On a 10+ it mysteriously appears from somewhere in your lab. On a 7-9, you don't find it but find something similar.</span>
            <br /><br />
            <input type="checkbox" name="attr_move4" class="move move4" />
            <span class="move"><b>Technobabble:</b> No one knows what you're saying, but they know it's smart. Once per Crisis you can throw together an item from any nearby scraps to help <i>get yourself out of a sticky situation</i>. It breaks afterwards.</span>
        </div>
        <div class="moveset biologist-moveset">
            <span class="move"><b>Party Suit:</b> Sometimes contaminants happen. Good thing you're always prepared. When a <i>disease outbreak is spreading</i>, roll +head to see if you have your hazmat suit on hand. On a 10+ you avoid getting contaminated or sick thanks to your suit. On a 7-9, you have the important pieces (gasmask, gloves). On a miss, you don't <i>think</i> you're sick...</span>
            <br /><br />
            <span class="move"><b>Wire in the Blood:</b> When you <i>suspect something is alien in nature</i>, roll +head to see if you can learn the truth about it. On a 10+ the Speaker will tell you something important about the alien. On 7-9 the alien learns something important about you, too. On a miss, you reveal a vital vulnerability to it and learn nothing.</span>
        </div>
        <div class="moveset chemist-moveset">
            <span class="move"><b>Never Lick the Spoon:</b> You have a wide variety of chemicals at your disposal, and most of them are deadly. You regularly apply a coating of them to your weapons. Add the "poison" tag to any melee weapon in your possession.</span>
            <br /><br />
            <span class="move"><b>Part of the Precipitate:</b> Sometimes things need blowing up. When you need to <i>create some explosives</i>, roll +head. On a 10+, you make the amount you need with no problems. On a 7-9, you can only make one. On a miss, it blows up in your face and things go badly for you.</span>
        </div>
        <div class="moveset medic-moveset">
            <span class="move"><b>Deforrest Station:</b> After med school you did your residency at the best station hospital in the solar system. Whenever <i>you try to heal an unstable patient</i>, roll +head. On a 10+ you stabilize the patient and heal 4 harm. On a 7-9, you stabilize them and heal 1 harm. On a miss, you make it worse.</span>
            <br /><br />
            <span class="move"><b>The Real McCoy:</b> Years of medical practice has prepared you for stress, but at what cost? At any point, you can erase an experience point to avoid becoming exhausted.</span>
        </div>
        <div class="moveset specialist-moveset">
            <input type="hidden" name="attr_move_limit" class="move-limit" />
            <span class="move-default"><i>Pick two:</i></span><br />
            <input type="checkbox" name="attr_move1" class="move move1" />
            <span class="move"><b>Sounds Plausible I Guess:</b> Most people don't know enough about your area of expertise to argue with you. Whenever you try to <i>influence someone about your subject</i>, roll +head. On a 10+, they believe you without question. On a miss, they believe that YOU believe, but don't buy it.</span>
            <br /><br />
            <input type="checkbox" name="attr_move2" class="move move2" />
			<span class="move"><b>Collector:</b> You collect things related to your subject, and sometimes they help jog memories. When you need to <i>get a feeling about something related to your subject</i>, take a +1 bonus.</span>
            <br /><br />
            <input type="checkbox" name="attr_move3" class="move move3" />
			<span class="move"><b>You're a Little Intense...:</b> Your ability to block out distractions comes in handy. Whenever you need to <i>act under fire</i>, roll +head instead of +hand.</span>
            <br /><br />
            <input type="checkbox" name="attr_move4" class="move move4" />
			<span class="move"><b>Oooh Neat!:</b> It's rare that you learn something new, and really cool when you do. Mark an experience whenever you roll a natural 12 while <i>Surveying the Scene</i>.</span>
        </div>
        <div class="moveset academic-moveset">
            <span class="move"><b>Research Beckons:</b> The prospect of a long night searching through your academic collection for the perfect answer sounds like your kind of fun. When you <i>take some time to do research</i>, take a +1 to your next roll to <i>Survey the Scene.</i></span>
            <br /><br />
            <span class="move"><b>Punk-Ass Data Jockey:</b> Not everything you read is theory and rhetoric. Some of it's actually pretty useful in a fight. When you try to <i>Inflict Harm</i>, roll +head instead of +hand.</span>
        </div>
        <div class="moveset pilot-moveset">
            <span class="move"><b>Nothin' But the Rain:</b> It's oddly satisfying to look out on a field of debris and know it's there because of you. Whenever you <i>destroy some hostile fighter forces in a dogfight</i>, remove a stress. If you have no stress, take +1 +heart until you gain your next stress (max heart+3).</span>
            <br /><br />
            <span class="move"><b>Don't Tell Me the Odds:</b> Sometimes you gotta just take a chance, the math be damned. Whenever you try to <i>pull a risky maneuver in your fighter ship</i>, roll +tech. On a 10+ you pull it off like a pro. On a 7-9, there's some hitches. On a miss, it doesn't go as planned.</span>
        </div>
        <div class="moveset weapons-expert-moveset">
            <span class="move"><b>Bianca:</b> If anyone ever asks, you love all your weapons equally. But you know the truth- there's one you love more than the rest. Pick one of your normal weapons and give it a name. This is now your favorite weapon. Take +1 to your +hand rolls whenever you use it during a fight.</span>
            <br /><br />
            <span class="move"><b>My Other, Smaller Gun:</b> You know those cartoons when people have to disarm and they just keep pulling out weapons from increasingly unlikely places? That's you. Whenever <i>someone tries to disarm you</i>, roll +head. On a 10+, you managed to stash a weapon where they don't find it. On a 7-9, it's very small. On a miss, they don't find it but neither do you.</span>
        </div>
		<div class="moveset stowaway-moveset">
            <input type="hidden" name="attr_move_limit" class="move-limit" />
            <span class="move-default"><i>Pick two:</i></span><br />
            <input type="checkbox" name="attr_move1" class="move move1" />
            <span class="move"><b>Rat's Nest:</b> You've learned to put things away for a rainy day. <i>When you need a small item quickly</i>, roll +head. On a 10+ you have it on your person. On a 7-9, you have it but not on you.</span>
            <br /><br />
            <input type="checkbox" name="attr_move2" class="move move2" />
            <span class="move"><b>Don't Mind Me:</b> People usually don't ask questions if they think you belong there. When you are <i>trying to access a restricted area</i>, roll +head. On a 10+ you get in and out without issue. On a 7-9, you get in. On a miss, you're caught and there are consequences.</span>
            <br /><br />
            <input type="checkbox" name="attr_move3" class="move move3" />
            <span class="move"><b>Like a Fox:</b> You've got a nose for danger and an eye on the exits. Once per crisis, you can immediately escape a bad situation unharmed. If the situation has no obvious escape, then you can escape the most immediate danger into limited safety.</span>
            <br /><br />
            <input type="checkbox" name="attr_move4" class="move move4" />
            <span class="move"><b>Rogue:</b> If you are <i>attacking someone or something from behind</i>, you can roll +head instead of +hand to Inflict Harm on the target.</span>
        </div>
        <div class="moveset criminal-moveset">
            <span class="move"><b>Sticky Fingers:</b> There's a mark born every minute. When you try to <i>steal something</i>, roll +hand. On a 10+, it's yours. On a 7-9, you can get it but there will be a cost. On a miss, you're caught in the act.</span>
            <br /><br />
            <span class="move"><b>Renegade Option:</b> When you <i>Influence Someone</i>, you can use +hand instead of +group to make your roll, as long as you do it in an intimidating manner.</span>
        </div>
        <div class="moveset kid-moveset">
            <span class="move"><b>Escape Hatch:</b> You know all the vents and crawlspaces of this place like the back of your hand. When you <i>need to make a quick escape</i>, roll +head. On a 10+, you get out with no issues. On a 7-9, you'll leave something important behind. On a miss, you're caught in the attempt.</span>
            <br /><br />
            <span class="move"><b>Get Away From Them!:</b> You don't want anyone to get hurt because of you. If someone is <i>trying to protect you from an enemy</i>, you get one free hit on the enemy that inflicts 1-harm.</span>
        </div>
        <div class="moveset survivor-moveset">
            <span class="move"><b>Calculated Risk:</b> You've learned how to pick your battles, and it's helped you survive. Before you decide to <i>Inflict Harm</i> on someone or something, you can roll +head. On a 10+, the Speaker will tell you exactly what could go wrong. On a 7-9, they'll give you a vague idea. On a miss, you read things completely wrong.</span>
            <br /><br />
            <span class="move"><b>Boy Am I Bad at Math:</b> When you <i>fail a roll while Acting Under Fire</i>, you can choose to immediately change the result into a mixed success and give the Speaker 2 hold over you to be used on any roll except <i>Act Under Fire</i>. The Speaker's holds can stack and can be held indefinitely.</span>
        </div>
		<div class="moveset technician-moveset">
            <input type="hidden" name="attr_move_limit" class="move-limit" />
            <span class="move-default"><i>Pick two:</i></span><br />
            <input type="checkbox" name="attr_move1" class="move move1" />
            <span class="move"><b>Whack It:</b> Sometimes things just won't work. Once per Crisis, when you <i>fail an important +tech roll</i> you can roll again. On a 10+, this "magically" fixes the problem. On a 7-9, you barely succeed. On a miss, it's even worse than before.</span>
            <br /><br />
            <input type="checkbox" name="attr_move2" class="move move2" />
            <span class="move"><b>Chaotician, actually.:</b> You thrive on chaos, and somehow think better under pressure. Take a +1 bonus <i>when attempting a +tech roll during a stressful situation</i> but take a -1 to +tech when things are peaceful.</span>
            <br /><br />
            <input type="checkbox" name="attr_move3" class="move move3" />
            <span class="move"><b>Science the Sh*t Out of This:</b> You feel a certain kind of glee when facing a tough challenge. Remove a stress when you roll a 10+ while <i>Acting Under Fire</i>.</span>
            <br /><br />
            <input type="checkbox" name="attr_move4" class="move move4" />
            <span class="move"><b>I Could Have Done That:</b> You're competitive, and nothing drives you like wanting to be the best. If another spacer <i>gets a 10+ on a +tech roll in your presence</i>, you gain a +1 forward on your next +tech roll.</span>
        </div>
        <div class="moveset engineer-moveset">
            <span class="move"><b>Givin' All She's Got, Captain:</b> You tell the captain that you're getting 100% out of things, but really it's probably more like 80%. Gotta hold something back for emergencies, right? Whenever you're trying to make an escape in a ship or vehicle, roll +tech. On a 10+ you coax enough out of the engine to escape unscathed. On a 7-9, it's a choppy ride. On a miss, something breaks that needs fixing immediately.</span>
            <br /><br />
            <span class="move"><b>Bouncy Graviton Particle Beam:</b> You just make shit up, and somehow it works. You can choose to immediately succeed on a <i>Use/Repair an Advanced Item</i> roll, but the Speaker will change one of your future +tech rolls to a fail.</span>
        </div>
        <div class="moveset hacker-moveset">
            <span class="move"><b>Knock Knock:</b> You're really good at getting into places that you shouldn't. Whenever you're <i>trying to hack into a secured system or place</i>, roll +head. On a 10+, you break in without triggering any alarms. On a 7-9, you can get in but it's only a matter of minutes before they'll notice you. On a miss, you're locked out and they know where you are now.</span>
            <br /><br />
            <span class="move"><b>Bite Me:</b> Your system is impenetrable. Well, almost. But just in case anyone manages to get in, you've got a secret weapon. Whenever an <i>enemy tries to hack into your system</i>, roll +tech. On a 10+, your secret weapon succeeds at destroying their computers and stopping the attack. On a 7-9, you protect your secrets but it's going to cost you to do so. On a miss, they get exactly what they're looking for before destroying your stuff.</span>
        </div>
        <div class="moveset mechanic-moveset">
            <span class="move"><b>Come On You <i>Bosh'tet</i></b>: You're a mechanical genius, even if no one else appreciates it as much as they should. Whenever there's a <i>mechanical failure of some kind</i>, roll +head. On a 10+, you suss out the problem quickly and know how to fix it. On a 7-9, its going to take you some time to stay and examine it first. On a miss, you definitely think you know how to fix it.</span>
            <br /><br />
            <span class="move"><b>Mine's the Nicest:</b> You put a lot of effort and love into the ships and colonies you maintain, and you know them like the back of your hand. Roll +tech instead of +head when you <i>Survey the Scene</i> on your own ship or colony.</span>
        </div>
        -->
    </div>
</div>

<script type="text/worker">

    // Values for the trackers
    const intuitionValues = ["1","2","3","4","5","6","7"];
    const harmValues = ["1","2","3","4","5","6","7"];
    const stressValues =  ["1","2","3","4","5"];
    const xpValues = ["1","2","3","4","5"];

    // Descriptions for the space field
    const spaceInfo = {
        augmentedBase:  "OBSERVATION DECK - A place to look, to wonder, to feel small, to contemplate.",

        civilianBase:   "COMMON ROOM - A place to gather, to bond, to play, to relax, to reassure.",
        homesteader:    "GREENHOUSE - A place to grow, to tend, to thrive, to enjoy, to remember, to hope, to survive.",
        merchant:       "GENERAL STORE - A place to gather, to trade, to sell, to gossip, to barter, to buy, to touch, to smell.",

        leaderBase:     "HEADQUARTERS - A place to command from, to plan, to gather, to regroup.",
        shepherd:       "RETREAT - A place to rest, to meditate, to think, to pray, to contemplate, to debate, to discuss, to question, to hope.",

        muscleBase:     "TRAINING AREA - A place to work out in, to move, to strengthen, to fight.",

        scientistBase:  "LAB - A place to investigate from, to hypothesize, to test, to experiment.",
        medic:          "INFIRMARY - A place to help from, to heal from, to look after, to administer, to diagnose, to medicate, to triage.",

        specialistBase: "RESEARCH ROOM - A place to solve from, to learn, to grow, to assist.",
        pilot:          "HANGER - A place to fly from, to attack from, to flee to, to protect, to escape, to dream.",
        weaponsExpert:  "ARMORY - A place to stockpile, to defend, to engage, to ready up, to attack from, to survive.",

        stowawayBase:   "SECRET ROOM - A place to hide, to plot, to escape, to maintain, to store.",

        technicianBase: "WORKROOM - A place to repair, to rebuild, to design, to destroy, to work.",
        engineer:       "WORKROOM - A place to repair, to rebuild, to design, to destroy, to work.\r\n\r\n\
Your space is your sanctuary, and you keep all the things you need in it. Pick two from the following list to upgrade your Workroom (delete the other options and this paragraph to make it fit in this field):\r\n\r\n\
Clean-room: +1 to +tech when Repairing an Advanced Item in your workroom\r\n\r\n\
Extensive database: +1 when trying to Assist in your space\r\n\r\n\
Portable space-ready work kit: +1 to +tech when Repairing while wearing an EVA suit\r\n\r\n\
VR Room: +1 to +group when trying to Influence Someone in your workroom",

        hacker:         "SERVER ROOM - A place to connect from, to integrate, to bypass, to decode, to encrypt, to block, to maintain.\r\n\r\n\
Your space is your sanctuary, and you keep all the things you need in it. Pick two from the following list to upgrade your Workroom (delete the other options and this paragraph to make it fit in this field):\r\n\r\n\
Wall of monitors: +1 to +head when trying to Survey a Scene from your space\r\n\r\n\
Advanced cooling system: +1 to +tech when repairing broken computer parts\r\n\r\n\
The latest software: +1 to +tech when Use an Advanced Item in your space\r\n\r\n\
Gaming console: +1 to +group when trying to Influence Someone in your server room",

        mechanic:       "WORKROOM - A place to repair, to rebuild, to design, to destroy, to work.\r\n\r\n\
Your space is your sanctuary, and you keep all the things you need in it. Pick two from the following list to upgrade your workroom (delete the other options and this paragraph to make it fit in this field):\r\n\r\n\
Jeweler's bench: +1 to +tech rolls when repairing small mechanical items\r\n\r\n\
Repair bay: +1 to +tech when repairing vehicles\r\n\r\n\
Modification station: +1 to +tech when attempting to modify a mechanical item\r\n\r\n\
Minifridge: +1 to +group when trying to Influence Someone in your workroom"
    };

    // Skill point options
    const skillsInfo = {
        augmented: {
            augmented1: { head: "+0", hand: "+2", heart: "+0", group: "+1", tech: "+1" },
            augmented2: { head: "+2", hand: "+1", heart: "+0", group: "-2", tech: "+1" },
            augmented3: { head: "+1", hand: "+2", heart: "-1", group: "+0", tech: "-1" },
            augmented4: { head: "-1", hand: "+2", heart: "-2", group: "+2", tech: "+0" },
            augmented5: { head: "+1", hand: "+1", heart: "+0", group: "+1", tech: "+0" }
        },
        civilian: {
            civilian1: { head: "+1", hand: "+0", heart: "+2", group: "+0", tech: "-1" },
            civilian2: { head: "+0", hand: "+1", heart: "+2", group: "+0", tech: "-1" },
            civilian3: { head: "+0", hand: "+0", heart: "+2", group: "+1", tech: "+1" },
            civilian4: { head: "-1", hand: "-1", heart: "+1", group: "+2", tech: "+0" },
            civilian5: { head: "+1", hand: "-2", heart: "+0", group: "+2", tech: "+1" }
        },

        leader: {
            leader1: { head: "+2", hand: "+0", heart: "+0", group: "+1", tech: "+1" },
            leader2: { head: "+2", hand: "+0", heart: "+1", group: "+0", tech: "+1" },
            leader3: { head: "-2", hand: "+2", heart: "-1", group: "+2", tech: "+0" },
            leader4: { head: "+1", hand: "+0", heart: "+2", group: "+2", tech: "-1" },
            leader5: { head: "-1", hand: "+2", heart: "+2", group: "-1", tech: "+0" }
        },

        muscle: {
            muscle1: { head: "+0", hand: "+2", heart: "+2", group: "-2", tech: "+0" },
            muscle2: { head: "+1", hand: "+2", heart: "+0", group: "+0", tech: "-1" },
            muscle3: { head: "+2", hand: "+1", heart: "+0", group: "-1", tech: "-1" },
            muscle4: { head: "-1", hand: "+2", heart: "+2", group: "+1", tech: "-2" },
            muscle5: { head: "+2", hand: "+0", heart: "-1", group: "+2", tech: "+0" }
        },

        scientist: {
            scientist1: { head: "+2", hand: "-2", heart: "-1", group: "+1", tech: "+1" },
            scientist2: { head: "+2", hand: "+0", heart: "-1", group: "+1", tech: "+2" },
            scientist3: { head: "+1", hand: "+1", heart: "+0", group: "-1", tech: "+1" },
            scientist4: { head: "+0", hand: "-1", heart: "+2", group: "-1", tech: "+2" },
            scientist5: { head: "-1", hand: "+1", heart: "+2", group: "-1", tech: "+2" }
        },

        specialist: {
            specialist1: { head: "+2", hand: "+0", heart: "-1", group: "-1", tech: "+2" },
            specialist2: { head: "+1", hand: "-1", heart: "+0", group: "+0", tech: "+2" },
            specialist3: { head: "+2", hand: "+1", heart: "+0", group: "-2", tech: "+0" },
            specialist4: { head: "+0", hand: "+2", heart: "-2", group: "+0", tech: "+2" },
            specialist5: { head: "-2", hand: "+2", heart: "+1", group: "+1", tech: "+0" }
        },

        stowaway: {
            stowaway1: { head: "+2", hand: "+0", heart: "+1", group: "+0", tech: "-1" },
            stowaway2: { head: "+0", hand: "+2", heart: "+1", group: "-1", tech: "-1" },
            stowaway3: { head: "-1", hand: "+1", heart: "+2", group: "+0", tech: "-1" },
            stowaway4: { head: "+2", hand: "+0", heart: "+2", group: "-1", tech: "-2" },
            stowaway5: { head: "+0", hand: "+2", heart: "-1", group: "-2", tech: "+2" }
        },

        technician: {
            technician1: { head: "+2", hand: "+0", heart: "-1", group: "+0", tech: "+2" },
            technician2: { head: "+1", hand: "-1", heart: "+0", group: "+0", tech: "+2" },
            technician3: { head: "+3", hand: "-1", heart: "-1", group: "+0", tech: "+1" },
            technician4: { head: "+1", hand: "+1", heart: "+1", group: "+0", tech: "+0" },
            technician5: { head: "-2", hand: "+1", heart: "+1", group: "+0", tech: "+1" }
        }
    };

    const moveset = {
        augmentedBase: {
            move_title_1: "With Your Special Eyes:",
            move1: "They definitely had your brand when you upgraded your visual input. With your augmented eyes, you \
can see in near total darkness, and get a +1 when surveying a scene in bad lighting.",
            move2: { head: "+2", hand: "+1", heart: "+0", group: "-2", tech: "+1" },
            move3: { head: "+1", hand: "+2", heart: "-1", group: "+0", tech: "-1" },
            move4: { head: "-1", hand: "+2", heart: "-2", group: "+2", tech: "+0" }
        },
        civilian: {
            civilian1: { head: "+1", hand: "+0", heart: "+2", group: "+0", tech: "-1" },
            civilian2: { head: "+0", hand: "+1", heart: "+2", group: "+0", tech: "-1" },
            civilian3: { head: "+0", hand: "+0", heart: "+2", group: "+1", tech: "+1" },
            civilian4: { head: "-1", hand: "-1", heart: "+1", group: "+2", tech: "+0" },
            civilian5: { head: "+1", hand: "-2", heart: "+0", group: "+2", tech: "+1" }
        },

        leader: {
            leader1: { head: "+2", hand: "+0", heart: "+0", group: "+1", tech: "+1" },
            leader2: { head: "+2", hand: "+0", heart: "+1", group: "+0", tech: "+1" },
            leader3: { head: "-2", hand: "+2", heart: "-1", group: "+2", tech: "+0" },
            leader4: { head: "+1", hand: "+0", heart: "+2", group: "+2", tech: "-1" },
            leader5: { head: "-1", hand: "+2", heart: "+2", group: "-1", tech: "+0" }
        },

        muscle: {
            muscle1: { head: "+0", hand: "+2", heart: "+2", group: "-2", tech: "+0" },
            muscle2: { head: "+1", hand: "+2", heart: "+0", group: "+0", tech: "-1" },
            muscle3: { head: "+2", hand: "+1", heart: "+0", group: "-1", tech: "-1" },
            muscle4: { head: "-1", hand: "+2", heart: "+2", group: "+1", tech: "-2" },
            muscle5: { head: "+2", hand: "+0", heart: "-1", group: "+2", tech: "+0" }
        },

        scientist: {
            scientist1: { head: "+2", hand: "-2", heart: "-1", group: "+1", tech: "+1" },
            scientist2: { head: "+2", hand: "+0", heart: "-1", group: "+1", tech: "+2" },
            scientist3: { head: "+1", hand: "+1", heart: "+0", group: "-1", tech: "+1" },
            scientist4: { head: "+0", hand: "-1", heart: "+2", group: "-1", tech: "+2" },
            scientist5: { head: "-1", hand: "+1", heart: "+2", group: "-1", tech: "+2" }
        },

        specialist: {
            specialist1: { head: "+2", hand: "+0", heart: "-1", group: "-1", tech: "+2" },
            specialist2: { head: "+1", hand: "-1", heart: "+0", group: "+0", tech: "+2" },
            specialist3: { head: "+2", hand: "+1", heart: "+0", group: "-2", tech: "+0" },
            specialist4: { head: "+0", hand: "+2", heart: "-2", group: "+0", tech: "+2" },
            specialist5: { head: "-2", hand: "+2", heart: "+1", group: "+1", tech: "+0" }
        },

        stowaway: {
            stowaway1: { head: "+2", hand: "+0", heart: "+1", group: "+0", tech: "-1" },
            stowaway2: { head: "+0", hand: "+2", heart: "+1", group: "-1", tech: "-1" },
            stowaway3: { head: "-1", hand: "+1", heart: "+2", group: "+0", tech: "-1" },
            stowaway4: { head: "+2", hand: "+0", heart: "+2", group: "-1", tech: "-2" },
            stowaway5: { head: "+0", hand: "+2", heart: "-1", group: "-2", tech: "+2" }
        },

        technician: {
            technician1: { head: "+2", hand: "+0", heart: "-1", group: "+0", tech: "+2" },
            technician2: { head: "+1", hand: "-1", heart: "+0", group: "+0", tech: "+2" },
            technician3: { head: "+3", hand: "-1", heart: "-1", group: "+0", tech: "+1" },
            technician4: { head: "+1", hand: "+1", heart: "+1", group: "+0", tech: "+0" },
            technician5: { head: "-2", hand: "+1", heart: "+1", group: "+0", tech: "+1" }
        }
    };


    on('change:variant', function(eventInfo) {
        console.log(eventInfo);
        if (typeof spaceInfo[eventInfo.newValue] != "undefined") {
            setAttrs({ "space": spaceInfo[eventInfo.newValue] });
        } else {
            getAttrs(["archetype"], function(value) {
                console.log(value);
                var defaultValue = value.archetype + "Base";
                setAttrs({ "space": spaceInfo[defaultValue] });
            });
        };
       adjustMoves([eventInfo.newValue]);
    });

    function adjustMoves(variant) {
        setAttrs({ "move_title_1": moveset[variant]["move_title_1"], "move1": moveset[variant]["move1"], "move2": variant, "move3": variant, "move4": variant });
    }

    on('change:skill_points', function(eventInfo) {
        // console.log(eventInfo);
        if(eventInfo.newValue != "blank") {
            getAttrs(["archetype"], function(choice) {
            // console.log(choice);
                selection = skillsInfo[choice.archetype][eventInfo.newValue];
                setAttrs({ "head": selection.head, "hand": selection.hand, "heart": selection.heart, "group": selection.group, "tech": selection.tech });
            });
        } else {
            setAttrs({ "head": "", "hand": "", "heart": "", "group": "", "tech": "" });
        };
    });

    intuitionValues.forEach(function(value) {
        // console.log(value);
        on(`clicked:intuition_${value}`, function() {
            updateAttributes("intuition", value, intuitionValues);
        });
    });

    harmValues.forEach(function(value) {
        // console.log(value);
        on(`clicked:harm_${value}`, function() {
            updateAttributes("harm", value, harmValues);
        });
    });

    stressValues.forEach(function(value) {
        // console.log(value);
        on(`clicked:stress_${value}`, function() {
            updateAttributes("stress", value, stressValues);
        });
    });

    xpValues.forEach(function(value) {
        // console.log(value);
        on(`clicked:xp_${value}`, function() {
            updateAttributes("xp", value, xpValues);
        });
    });

    function updateAttributes(key, value, range) {
        // console.log("Key: " + key + " Value: " + " Range: " + range);
        getAttrs([key], function(level) {
            // console.log(level);
            if (level[key] == 1) {
                if (value == 1) {
                    value = 0;
                };
            };
            setAttrs({ [key]: value });
            range.forEach(function(count) {
                // console.log(count);
                if (value >= count) {
                    let selector = key + count;
                    setAttrs({ [selector]: "on" });
                } else {
                    let selector = key + count;
                    setAttrs({ [selector]: "off" });
                };
            });
        });
    };

    on('change:move1 change:move2 change:move3 change:move4', function(eventInfo) {
        // console.log(eventInfo);
        if (eventInfo.sourceType == "player") {
            if (eventInfo.newValue == "on") {
                getAttrs(["move_limit"], function(limit) {
                    if (limit.move_limit == 2) {
                        setAttrs({ [eventInfo.sourceAttribute]: "0" });
                    } else if (limit.move_limit != "") {
                        if (limit.move_limit < 2) {
                            setAttrs({ move_limit: limit.move_limit + 1 });
                        };
                    } else {
                        setAttrs({ move_limit: 1 });
                    };
                });
            } else if (eventInfo.newValue == "0") {
                getAttrs(["move_limit"], function(limit) {
                    // console.log(limit);
                    if (limit.move_limit > 0) {
                        setAttrs({ move_limit: limit.move_limit - 1 });
                    };
                });
            };
        };
    });

</script>